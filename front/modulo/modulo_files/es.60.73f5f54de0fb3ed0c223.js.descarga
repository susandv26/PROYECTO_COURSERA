(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{"4aGK":function(module,exports){exports.default={"#{name} - #{pageTitle} | Coursera":"#{name} - #{pageTitle} | Coursera"}},"6MjR":function(module,exports,e){e("Ask/")},"Ask/":function(module,exports,e){},NehD:function(module,exports,e){e("tQV5")},QsJ7:function(module,e,n){"use strict";var t=n("VbXa"),a=n.n(t),r=n("q1tI"),i=n("qhky"),o=n("MnCE"),c=n("+LJP"),l=n("PStO"),s=n("aZBY"),d=n("RnpQ"),u=n.n(d),p=function(e){function CourseMetatagTitle(){return e.apply(this,arguments)||this}return a()(CourseMetatagTitle,e),CourseMetatagTitle.prototype.render=function(){var e=this.props,n=e.pageTitle,t=e.course.name,a=u()("#{name} - #{pageTitle} | Coursera",{name:t,pageTitle:n});return r.createElement(i.a,null,r.createElement("title",null,a))},CourseMetatagTitle}(r.Component);e.a=Object(o.b)(Object(c.a)((function(e){return{courseSlug:e.params.courseSlug}})),l.b.createContainer((function(e){var n=e.courseSlug;return{course:s.a.bySlug(n,{fields:["id"]})}})))(p)},RnpQ:function(module,exports,e){var n=e("4aGK"),t=n.default?n.default:{},a=(0,e("HdzH").default)(t);a.getLocale=function(){return"es"},module.exports=a},WuNL:function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPartnersLogoByPartnerId"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"Partner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"queryById"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"logo"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:105}};e.loc.source={body:"query GetPartnersLogoByPartnerId($id: ID!) {\n  Partner {\n    queryById(id: $id) {\n      logo\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function findOperation(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}e.definitions.forEach((function(e){if(e.name){var t=new Set;!function collectFragmentReferences(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,n)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,n)}))}(e,t),n[e.name.value]=t}})),module.exports=e,module.exports.GetPartnersLogoByPartnerId=function(e,t){var a={kind:e.kind,definitions:[findOperation(e,t)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var r=n[t]||new Set,i=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var c=o;o=new Set,c.forEach((function(e){i.has(e)||(i.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return i.forEach((function(n){var t=findOperation(e,n);t&&a.definitions.push(t)})),a}(e,"GetPartnersLogoByPartnerId")},Zn7F:function(module,e,n){"use strict";var t=n("pVnL"),a=n.n(t),r=n("cDf5"),i=n.n(r),o=n("VbXa"),c=n.n(o),l=n("q1tI"),s=n("TSYQ"),d=n.n(s),u=n("oYk5"),p=n.n(u),m=n("17x9"),g=n.n(m),v=n("IDuc"),f=n("9A5E"),b=(n("pUK/"),40),Content=function(e){var n=e.children,t=e.forwardedRef,a=e.id,r=e.tabIndex;return(l.createElement("div",{className:"content-inner",ref:t,id:a,tabIndex:r},n))},h=function(e){function TogglableContent(n,t){var a;return(a=e.call(this,n,t)||this).onResize=function(){var e=a.shouldComponentExpand();a.setState((function(){return{alwaysExpand:e}}))},a.shouldComponentExpand=function(){var e=p()(a.contentInner),n=a.props,t=n.collapsedHeight,r=n.useSmartCollapse;return a.origContentHeight=e.height(),r?a.origContentHeight<=t+b:a.origContentHeight<=t},a.splitContent=function(e){var n=e.split(/\r\n|\r|\n/)[0];return{firstParagraphContent:n,restParagraphContent:e.replace("".concat(n),"").trim()}},a.renderDefaultContentChild=function(){var e=a.props,n=e.children,t=e.isContentMarkdown,r=e.childrenWrapperTag;return t?n:l.createElement(r,null,n)},a.renderSplitContent=function(e){var n=a.state,t=n.collapsed,r=n.alwaysExpand,i=a.splitContent(e),o=i.firstParagraphContent,c=i.restParagraphContent;return l.createElement(Content,{forwardedRef:function(e){a.contentInner=e},id:a.props.id},l.createElement("p",null,o),c&&l.createElement("p",{"aria-hidden":t&&!r},c))},a.renderContent=function(){var e=a.props,n=e.children,t=e.isContentMarkdown;return"string"!=typeof n||t?l.createElement(Content,{forwardedRef:function(e){a.contentInner=e}},a.renderDefaultContentChild()):a.renderSplitContent(n)},a.state={collapsed:n.isCollapsed,alwaysExpand:!1,hasMounted:!1},a.origContentHeight=0,a}c()(TogglableContent,e);var n=TogglableContent.prototype;return n.componentDidMount=function(){var e=this.shouldComponentExpand();this.setState((function(){return{hasMounted:!0,alwaysExpand:e}})),window.addEventListener("resize",this.onResize)},n.componentWillReceiveProps=function(e){this.props.isCollapsed!==e.isCollapsed&&this.setState({collapsed:e.isCollapsed})},n.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize)},n.toggleCollapse=function(e){var n=this;e&&e.preventDefault();var t=this.props,a=t.disableCollapseScroll,r=t.addCollapseAnimation,o=t.collapsedHeight,c=t.id,l=t.tabIndex,s=this.state.collapsed,d=p()(this.content);if(s){var u,m;if(c&&l&&l<0&&void 0!==("undefined"==typeof document?"undefined":i()(document)))null===(u=document.getElementById(c))||void 0===u||u.setAttribute("tabindex","0"),null===(m=document.getElementById(c))||void 0===m||m.focus({preventScroll:!0});d.animate({height:"".concat(s?this.origContentHeight:o,"px")},300,(function(){return n.setState({collapsed:!s})}))}else{var g;if(c&&void 0!==("undefined"==typeof document?"undefined":i()(document)))null===(g=document.getElementById(c))||void 0===g||g.setAttribute("tabindex","-1");a||window.scrollTo(0,d.offset().top),r&&d.animate({height:"".concat(s?this.origContentHeight:o,"px")},300),this.setState({collapsed:!s})}},n.render=function(){var e,n=this,t=this.props,r=t.trackingName,i=t.trackingData,o=t.hideShowLessBtn,c=t.className,s=t.renderToggleButtonContentFunction,u=t.toggleButtonClassName,p=t.toggleButtonType,m=t.collapsedHeight,g=t.ariaHidden,b=this.state,h=b.collapsed,k=b.alwaysExpand,O=b.hasMounted,y=this.context.getStore,I=y&&y("ApplicationStore"),C=I&&I.getUserAgent(),x=C&&"Safari"===C.browser.name,N=d()("rc-TogglableContent",c,{collapsed:h,"is-safari":x}),E="button"===p?v.a:f.a,j=Object.assign({},"link"===p?{href:"#"}:{},{className:d()("toggle-".concat(p),"link"===p&&"primary","button"===p&&"cdp-view-all-button",{passive:"button"===p&&"cdp-view-all-button"}),onClick:function(e){return n.toggleCollapse(e)},trackingName:h?"expand_".concat(r):"collapse_".concat(r)}),M={height:k||!h?"auto":"".concat(m,"px")},S=s({collapsed:h}),T=!(o&&!h)&&O&&!k;return l.createElement("div",{className:N},l.createElement("div",{className:"content",ref:function(e){n.content=e},style:M,"aria-hidden":null!==(e=void 0===g)&&void 0!==e?e:h},this.renderContent()),T&&l.createElement("div",{className:"toggle-button-wrapper"},l.createElement(E,a()({},j,{"aria-hidden":!S,className:u,tabIndex:S?"0":"-1",data:i}),S)))},TogglableContent}(l.Component);h.propTypes={children:g.a.node.isRequired,className:g.a.string,collapsedHeight:g.a.number,addCollapseAnimation:g.a.bool,disableCollapseScroll:g.a.bool,isCollapsed:g.a.bool,toggleButtonClassName:g.a.string,hideShowLessBtn:g.a.bool,renderToggleButtonContentFunction:g.a.func.isRequired,toggleButtonType:g.a.oneOf(["button","link"]),trackingName:g.a.string.isRequired,trackingData:g.a.object,childrenWrapperTag:g.a.string,isContentMarkdown:g.a.bool,useSmartCollapse:g.a.bool,label:g.a.string,ariaHidden:g.a.bool},h.contextTypes={getStore:g.a.func.isRequired},h.defaultProps={collapsedHeight:250,toggleButtonType:"button",isCollapsed:!0,childrenWrapperTag:"p",isContentMarkdown:!1,hideShowLessBtn:!1},e.a=h},fwXy:function(module,e,n){"use strict";function truncateString(e,n){for(var t=e.split(" "),a=0,r=0,i=t.length,o=[];r<i&&a<n;){var c=t[r];if(!(c.length+a<n))break;o.push(c),a+=c.length+1,r+=1}return o.join(" ")+"..."}n.d(e,"a",(function(){return truncateString}))},"h+p0":function(module,exports,e){},iTn7:function(module,e,n){"use strict";n.r(e);var t,a=n("VkAN"),r=n.n(a),i=n("J4zp"),o=n.n(i),c=n("AeFk"),l=n("q1tI"),s=n("kgYC"),d=n("8Hdl"),u=n("VbXa"),p=n.n(u),m=n("F/us"),g=n.n(m),v=n("8cuT"),f=n("HOoY"),b=n("ZJgU");function Divider(e){var n=e.className,a=void 0===n?"":n,i=Object(s.a)(),o=Object(c.c)(t||(t=r()(["\n    border-bottom: 1px solid ",";\n    width: 100%;\n  "])),i.palette.gray[300]);return Object(c.d)("div",{className:a,css:o})}var h,k,O,y,I,C=n("cVIm"),x=n("BVC1"),N=n("6/Gu"),E=n("Fmrb"),j=n.n(E),M=x.a.join(C.a.url.assets,"images/course-inbox/no_messages.svg"),components_EmptyInboxMessage=function(){return Object(c.d)(N.a,{container:!0,item:!0,xs:12,css:Object(c.c)(h||(h=r()(["\n        justify-content: center;\n      "])))},Object(c.d)(d.a,{variant:"h2",className:"rc-EmptyInboxMessage"},k||(k=Object(c.d)("div",{className:"imageContainer"},Object(c.d)("img",{src:M,alt:"","aria-hidden":"true"}))),j()("There are no messages yet.")))},S=n("wd/R"),T=n.n(S),w=n("S+eF"),P=n.n(w),D=n("MnCE"),R=n("DnuM"),A=n("38OI"),B=n("l1rq"),L=n("Who7"),F=n("QILm"),V=n.n(F),U=n("Miom"),q=n("wnMB"),H=n("OYIB"),G=n("fwXy"),z=["message"],J=250,W=350;function CollapsibleMessage(e){var n,t,a=e.message,i=void 0===a?"":a,d=V()(e,z),u=Object(l.useState)(!0),p=o()(u,2),m=p[0],g=p[1],v=Object(s.a)(),f=m?j()("Show More"):j()("Show Less"),h=i.length>W,k=m&&h?(n=i,t=Object(G.a)(n.replace(/<p>(.*?)<\/p>/g,"$1"),J),t="<p>".concat(t,"</p>")):i,C=m?O||(O=Object(c.d)(U.a,{size:"small"})):y||(y=Object(c.d)(q.a,{size:"small"}));return Object(c.d)("span",d,Object(c.d)("div",{css:Object(c.c)(I||(I=r()(["\n          margin: ",";\n\n          ","\n          p {\n            ","\n          }\n        "])),v.spacing(0,0,8,0),L.c.bodyPrimary,L.c.bodyPrimary)},Object(c.d)(H.a,{html:k,enableTranslation:!0})),h&&Object(c.d)(b.a,{onClick:function(){return g(!m)},icon:C,iconPosition:"before",type:"button",variant:"ghost",size:"small"},f))}var Q=n("pVnL"),Y=n.n(Q),X=n("TSYQ"),Z=n.n(X),K=n("+VU/"),ee=n("JJfJ"),ne=n("TOZ3"),te=n("3tO9"),ae=n.n(te),re=n("cDf5"),ie=n.n(re),oe=n("IujW"),ce=n.n(oe),le=n("9Zmq"),se=n("mHyk"),de=n("xt11"),ue=n("9A5E"),pe=(n("6MjR"),["source","className","trackingName","linkTarget","onLinkClick","buttonTrackingNameV3","trackingSection","trackingSubSection","trackingIndex","trackingProductId","rel","showSvgCheck","renderers"]),Markdown_Heading=function(e){var n=e.children,t=e.level;if(!n)return null;var a=n[0].toString().toLowerCase().replace(/[^a-zA-Z0-9- ]/g,"").replace(/ +/g,"-");switch(t){case 1:return l.createElement("h1",{id:a},n);case 2:return l.createElement("h2",{id:a},n);case 3:return l.createElement("h3",{id:a},n);case 4:return l.createElement("h4",{id:a},n);case 5:return l.createElement("h5",{id:a},n);case 6:default:return l.createElement("h6",{id:a},n)}},Markdown_renderList=function(e,n){var t=e.children,a=e.ordered;if(!t||!t.length)return null;var r=a?"ol":"ul";return(l.createElement(r,{role:"list"},t.map((function(e){return function(e,n){var t,a,r,i=e.children;if(!i||!i.length)return null;var o,c=i[0];return"object"===ie()(c)&&null!=c&&null!==(t=c.props)&&void 0!==t&&null!==(a=t.children)&&void 0!==a&&a[0]?o=c.props.children[0]:"object"===ie()(c)&&null!=c&&null!==(r=c.props)&&void 0!==r&&r.value?o=c.props.value:"string"==typeof c&&(o=c),l.createElement("li",{role:"listitem",key:o},n&&l.createElement(le.a,{className:"checkIcon",suppressTitle:!0,width:"24px",height:"24px",style:{left:"0",marginRight:"1rem",marginTop:"-1px",position:"absolute",top:"0",fill:"#1f8354"}}),i)}(e.props,n)}))))};var me,ge,ve,fe,be,he,ke,Oe,ye,Ie,Ce,xe,Ne,components_Markdown=function(e){var n=e.source,t=e.className,a=e.trackingName,r=e.linkTarget,i=void 0===r?"_blank":r,o=e.onLinkClick,c=e.buttonTrackingNameV3,s=e.trackingSection,d=e.trackingSubSection,u=e.trackingIndex,p=e.trackingProductId,m=e.rel,g=e.showSvgCheck,v=e.renderers,f=V()(e,pe),b=Object(se.d)();if(!n)return null;var h=ae()({link:function(e){var n=e.href,t="string"==typeof n&&Object(de.n)(n)?"external":"internal";return l.createElement(ue.a,Y()({},e,{trackingName:a||"link_in_contentful",data:{href:n},onClick:function(){c&&b("click_button",ae()(ae()({button:{name:c,linkURL:n,linkType:t}},s&&{pageSection:ae()(ae()({sectionName:s},d&&{subsectionName:d}),u&&{subindex:u})}),p&&{product:{id:p}})),o&&o()},rel:m}))},heading:Markdown_Heading,list:function(e){return Markdown_renderList(e,g)}},v);return(l.createElement(ce.a,Y()({},f,{className:Z()("rc-Markdown styled",t),source:n,linkTarget:i,renderers:h})))},Ee=n("ROEb"),je=n("zMc8"),Me=n("xJyF"),Se=Object(je.a)(me||(me=r()(["#graphql\n  query LearnerIncentivePromotion($id: Int!) {\n    learnerIncentiveCollection(where: { id: $id }, limit: 1) {\n      items {\n        xdpMerchandisingImage {\n          url\n        }\n        xdpMerchandisingTitle\n        xdpMerchandisingText\n        redeemModalLogo {\n          url\n        }\n        redeemModalTitle\n        redeemModalDetails\n        redeemModalRedeemButtonText\n        redeemModalFinePrint\n      }\n    }\n  }\n"]))),getSelectedFields=function(e,n){var t=e.redeemModalLogo,a=e.redeemModalTitle,r=e.redeemModalDetails,i=e.redeemModalRedeemButtonText,o=e.redeemModalFinePrint,c=e.xdpMerchandisingTitle,l=e.xdpMerchandisingText,s=e.xdpMerchandisingImage;return"modal"===n?{redeemModalLogo:t,redeemModalTitle:a,redeemModalDetails:r,redeemModalRedeemButtonText:i,redeemModalFinePrint:o}:{xdpMerchandisingTitle:c,xdpMerchandisingText:l,xdpMerchandisingImage:s}},Te=n("+TN3"),we=n("WuNL"),Pe=n.n(we),data_fetching_usePartnerLogo=function(e){var n,t,a=Object(Te.b)(Pe.a,{variables:{id:e?String(e):""},context:{clientName:"gatewayGql"},skip:!e,ssr:!1}).data;return null==a?void 0:null===(n=a.Partner)||void 0===n?void 0:null===(t=n.queryById)||void 0===t?void 0:t.logo},De=n("Zn7F"),Re=n("sOkY"),Ae=n("JPjw"),Be=(n("NehD"),function(){return l.createElement(B.a,{component:"span",variant:"bodySecondary",className:"show-more"},j()("show more"))}),Le=(ge="modal",Object(Me.a)(Se,{options:function(e){var n=e.learnerIncentives,t=e.learnerIncentive,a=-1;return t&&(a=t.id),n&&n.length>0&&(a=n[0].id),{variables:{id:Number(a)},context:{clientName:"contentfulGql"},skip:-1===a}},props:function(e){var n,t=e.data,a=null==t?void 0:null===(n=t.learnerIncentiveCollection)||void 0===n?void 0:n.items[0];return a?{learnerIncentivePromotionData:getSelectedFields(a,ge)}:(Ee.a.error("Missing learner incentive Contentful data for this Specialization."),{})}}))((function(e){var n,t,a,r,i=e.onClose,o=e.isOpen,c=e.voucher,s=e.learnerIncentive,d=e.learnerIncentivePromotionData,u=data_fetching_usePartnerLogo(null==s?void 0:s.partnerId);if(!c)return null;var p=null!==(n=null==d?void 0:null===(t=d.redeemModalLogo)||void 0===t?void 0:t.url)&&void 0!==n?n:u,m=c.partnerIncentiveId,g=c.externalPartnerVoucher,v=c.partnerIncentiveInternalPromotion,f=c.urlReward,h=null!=g?g:{},k=h.voucherCode,O=h.expiredAtTime,y=null!==(a=null!==(r=null==g?void 0:g.redemptionLink)&&void 0!==r?r:null==v?void 0:v.redemptionLink)&&void 0!==a?a:null==f?void 0:f.redemptionLink,I="PARTNER_INCENTIVE_VOUCHER_FETCH_TYPE_STORED"===(null==s?void 0:s.fetchType),C=I&&Object(ee.x)(O).isBefore(Object(ee.x)()),x=Object(ee.v)(null!=O?O:Date.now(),ee.l),N=null!=d?d:{},E=N.redeemModalDetails,M=N.redeemModalFinePrint,S=N.redeemModalTitle,T=N.redeemModalRedeemButtonText;return l.createElement(Re.a,{trackingName:"learner_incentives",trackClicks:!1,withVisibilityTracking:!0,data:{partnerIncentiveId:m}},l.createElement(Ae.a,{onRequestClose:i,isOpen:o},l.createElement(ne.b,{rootClassName:"rc-IncentiveModal",alignItems:"center",flexDirection:"column",justifyContent:"center"},p&&l.createElement(K.a,{role:"presentation",alt:j()("Partner logo"),maxWidth:160,maxHeight:34,src:p,className:"logo"}),l.createElement(B.a,{component:"p",style:{marginBottom:32}},l.createElement(components_Markdown,{source:S,className:"modal-title"})),k&&l.createElement(ne.b,{flexDirection:"column",justifyContent:"center",rootClassName:"voucher-area"},l.createElement(B.a,{component:"p"},l.createElement("strong",null,j()("Voucher code"))),l.createElement(B.a,{component:"span",className:Z()("voucher",{expired:C})},k),I&&l.createElement(B.a,{component:"span",className:Z()("expires",{expired:C})},C?j()("Your voucher code expired on #{expiredAtTimeStr}",{expiredAtTimeStr:x}):j()("Expires #{expiredAtTimeStr}",{expiredAtTimeStr:x}))),!C&&E&&l.createElement("div",{className:"redeem"},l.createElement(components_Markdown,{source:E,className:"details-markdown"})),!C&&T&&l.createElement(b.a,{type:"button",component:ue.b,trackingName:"learner_incentive_redeem",data:{partnerIncentiveId:m},target:"_blank",href:y,className:"cta",variant:"primary"},T),l.createElement(De.a,{renderToggleButtonContentFunction:Be,collapsedHeight:100,hideShowLessBtn:!0,trackingName:"incentive_modal_show_terms_and_conditions"},l.createElement(components_Markdown,{source:M,className:"terms-and-conditions"})))))})),Fe=n("EVlj"),_e=["learnerIncentive","voucher","learnerIncentivePromotionData"],cds_withLearnerIncentiveModal=function(e){return function(n){var t,a=l.useState(!1),r=o()(a,2),i=r[0],c=r[1],s=n.learnerIncentive,d=n.voucher,u=n.learnerIncentivePromotionData,p=V()(n,_e),m=p.data,g=null!=u&&null!==(t=u.xdpMerchandisingImage)&&void 0!==t&&t.url?u.xdpMerchandisingImage.url:Fe.d;return l.createElement(l.Fragment,null,l.createElement(e,Y()({},p,{imageUrlOverride:g,onClick:function(e){e.preventDefault(),c(!0)}})),i&&(null==m?void 0:m.productId)&&l.createElement(Le,{onClose:function(){return c(!1)},isOpen:i,learnerIncentive:s,voucher:d,data:m}))}},Ve=n("sQ/U"),Ue=n("UYTu"),qe=Object(Ue.a)(ve||(ve=r()(['\n  query FindByUserAndProduct($input: FindByUserAndProductVariables!) {\n    FindByUserAndProduct(input: $input)\n      @rest(\n        type: "FindByUserAndProduct"\n        path: "grpc/partnerincentives/v1/PartnerIncentiveUserStatusAPI/FindByUserAndProduct"\n        method: "POST"\n      ) {\n      elements\n    }\n  }\n']))),He=Object(Ue.a)(fe||(fe=r()(['\n  query GetPartnerIncentive($input: GetPartnerIncentiveVariables!) {\n    GetPartnerIncentive(input: $input)\n      @rest(\n        type: "GetPartnerIncentive"\n        path: "grpc/partnerincentives/v1/PartnerIncentivesAPI/GetPartnerIncentive"\n        method: "POST"\n      ) {\n      partnerIncentive\n    }\n  }\n']))),Ge=(Object(Ue.a)(be||(be=r()(["\n  query PartnersLogoQuery($id: String!) {\n    PartnersV1 @naptime {\n      get(id: $id) {\n        elements {\n          logo\n        }\n      }\n    }\n  }\n"]))),Object(D.b)(Object(Me.a)(qe,{options:function(e){var n,t=e.data;return{variables:{input:{productId:(null==t?void 0:t.productId)||"",userId:null===(n=Ve.a.get())||void 0===n?void 0:n.id}}}},props:function(e){var n,t,a=e.data;return{voucher:null==a?void 0:null===(n=a.FindByUserAndProduct)||void 0===n?void 0:null===(t=n.elements)||void 0===t?void 0:t[0]}}}),Object(Me.a)(He,{skip:function(e){var n=e.voucher;return!(null!=n&&n.partnerIncentiveId)},options:function(e){var n;return{variables:{input:{id:Number(null===(n=e.voucher)||void 0===n?void 0:n.partnerIncentiveId)}}}},props:function(e){var n,t=e.data;return{learnerIncentive:null==t?void 0:null===(n=t.GetPartnerIncentive)||void 0===n?void 0:n.partnerIncentive}}}),Object(Me.a)(Se,{options:function(e){var n=e.learnerIncentive;return{variables:{id:Number(null==n?void 0:n.id)},context:{clientName:"contentfulGql"}}},props:function(e){var n,t=e.data,a=null==t?void 0:null===(n=t.learnerIncentiveCollection)||void 0===n?void 0:n.items[0];return a?{learnerIncentivePromotionData:a}:(Ee.a.error("Missing learner incentive Contentful data for this product."),{})}}))),ze=n("XKX7"),Je=n("O5JJ"),We=n("nx5e"),Qe=Object(R.a)("",{type:"rest"}),Ye={width:100,auto:"format,compress"};function ThemeRenderProp(e){return(0,e.children)({theme:Object(s.a)()})}var $e,Xe,Ze,Ke=function(e){function InboxNotification(){return e.apply(this,arguments)||this}p()(InboxNotification,e);var n=InboxNotification.prototype;return n.componentDidMount=function(){var e=this.props,n=e.id;e.isRead||P()(Qe.post("/api/siteMessages.v1?action=markAsRead&id="+n))},n.render=function(){var e,n,t=this,a=this.props,i=a.createdAt,o=a.data,l=a.campaignId,s=a.imageUrlOverride,u=a.onClick,p=null!=s?s:null==o?void 0:o.imageUrl,m=p?A.a.processImage(p,Ye):Fe.d,g={background:"center / contain no-repeat url(".concat(m,")")},v=(null==o?void 0:o.message)||"";return Object(c.d)(ThemeRenderProp,null,(function(a){var s,p=a.theme;return Object(c.d)(N.a,{container:!0,css:Object(c.c)(he||(he=r()(["\n              padding: ",";\n            "])),p.spacing(24,0))},Object(c.d)(N.a,{item:!0,xs:2,md:1,css:Object(c.c)(ke||(ke=r()(["\n                padding: ",";\n              "])),p.spacing(0,24,0,0))},Object(c.d)("div",{css:Object(c.c)(Oe||(Oe=r()(["\n                  width: 48px;\n                  height: 48px;\n                  display: inline-block;\n                  background-size: contain;\n                "]))),style:g,className:"notif-img"})),Object(c.d)(N.a,{item:!0,xs:10},Object(c.d)(N.a,{container:!0,css:Object(c.c)(ye||(ye=r()(["\n                  padding: ",";\n                "])),p.spacing(0,0,16,0))},Object(c.d)(N.a,{item:!0,xs:12,sm:10},Object(c.d)(d.a,{variant:"h2semibold",className:"subject"},null==o?void 0:o.subject)),Object(c.d)(N.a,{item:!0,xs:12,sm:2,css:Object(c.c)(Ie||(Ie=r()(["\n                    "," {\n                      text-align: right;\n                    }\n                  "])),p.breakpoints.up("sm"))},Object(c.d)(B.a,{component:"p",color:"supportText"},T()(i).fromNow()))),Object(c.d)(N.a,{container:!0,item:!0,css:Object(c.c)(Ce||(Ce=r()(["\n                  p {\n                    ","\n                  }\n                "])),L.c.bodyPrimary)},t.props.truncate?e||(e=Object(c.d)(CollapsibleMessage,{message:v})):n||(n=Object(c.d)(H.a,{html:v,enableTranslation:!0}))),Object(c.d)(N.a,{spacing:16,container:!0,item:!0},xe||(xe=Object(c.d)(N.a,{item:!0,xs:12},Object(c.d)(We.a,null))),((null==o?void 0:o.actionUrl)||u)&&(null==o?void 0:o.actionText)&&Object(c.d)(N.a,{item:!0},Object(c.d)(b.a,{type:"a",variant:"secondary",size:"small",component:ue.b,href:null!==(s=null==o?void 0:o.actionUrl)&&void 0!==s?s:"#",onClick:u,trackingName:"course_inbox_".concat(l),role:"link"},null==o?void 0:o.actionText)),Ne||(Ne=Object(c.d)(N.a,{item:!0},Object(c.d)(ze.a,{eventingSectionName:"instructor_message"}))))))}))},InboxNotification}(l.Component),en=Object(D.a)((function(e){var n=e.data;return"PartnerIncentiveMessage"===(null==n?void 0:n.messageType)}),Object(D.b)(Ge,cds_withLearnerIncentiveModal))((function(e){return Object(c.d)(Je.b,null,Object(c.d)(Ke,e))})),nn=n("PStO"),tn=n("W8MJ"),an=n.n(tn),rn=n("U+yc"),on=n.n(rn),cn=n("aGUn"),ln=function(e){function SiteMessagesV1NaptimeResource(n){return e.call(this,n)||this}return p()(SiteMessagesV1NaptimeResource,e),SiteMessagesV1NaptimeResource}(n("HlCP").a);ln.RESOURCE_NAME="siteMessages.v1";var sn,dn,un,pn,mn,gn=($e=Object(cn.b)("data"),(Ze=function(e){function SiteMessage(){return e.apply(this,arguments)||this}return p()(SiteMessage,e),an()(SiteMessage,[{key:"parsedData",get:function(){try{return JSON.parse(this.data)}catch(e){return null}}}]),SiteMessage}(ln)).RESOURCE_NAME="siteMessages.v1",Xe=Ze,on()(Xe.prototype,"parsedData",[$e],Object.getOwnPropertyDescriptor(Xe.prototype,"parsedData"),Xe.prototype),Xe),vn=n("IDuc"),fn=function(e){function InboxNotificationsList(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(n=e.call.apply(e,[this].concat(a))||this).isValidMessage=function(e){return!!e.parsedData},n.renderMessage=function(e,n){return l.createElement(en,{key:e.id,id:e.id,createdAt:e.createdAt,data:e.parsedData,truncate:n,isRead:e.isRead,campaignId:e.campaignId})},n.renderFull=function(e){return n.renderMessage(e,!1)},n}return p()(InboxNotificationsList,e),InboxNotificationsList.prototype.render=function(){var e=this,n=this.props,t=n.naptime,a=n.messages,r=n.getMoreMessages,i=t.getPagingFor("messages"),o=g()(a).filter(this.isValidMessage),c=o.length,s=a.length-c,d=c<i.total-s,u=o.splice(0,1);return l.createElement(Re.a,{trackingName:"render_page",className:"rc-NotificationsList",trackClicks:!1,requireFullyVisible:!1,withVisibilityTracking:!0},!c&&(sn||(sn=l.createElement(components_EmptyInboxMessage,null))),c>0&&l.createElement(l.Fragment,null,dn||(dn=l.createElement(Divider,null)),this.renderFull(u[0])),c>1&&o.map((function(n){return l.createElement(l.Fragment,null,un||(un=l.createElement(Divider,null)),e.renderMessage(n,!0))})),c>1&&(pn||(pn=l.createElement(Divider,null))),d&&l.createElement(b.a,{type:"button",component:vn.a,variant:"secondary",withVisibilityTracking:!0,requireFullyVisible:!1,trackingName:"show_more_messages",onClick:r},j()("Show more messages")))},InboxNotificationsList}(l.Component),bn=f.a.createTrackedContainer((function(){return{namespace:{page:"course_inbox"}}}))(fn),hn=g.a.compose(Object(v.a)(["CourseStore"],(function(e){return{courseId:e.CourseStore.getCourseId()}})),nn.b.createContainer((function(e){var n=e.courseId,t=e.maxNumberOfMessages;return{messages:gn.getAll({fields:["layoutType","data","createdAt","isRead"],params:{q:"latest",courseId:n,setTime:!0,start:0,limit:t}})}})))(bn),kn=n("QsJ7"),On=20;e.default=function(){var e=Object(l.useState)({maxNumberOfMessages:On}),n=o()(e,2),t=n[0],a=n[1],i=Object(s.a)();return Object(c.d)("div",{className:"rc-CourseInboxPage"},Object(c.d)(kn.a,{pageTitle:j()("Course Inbox")}),Object(c.d)(d.a,{variant:"h1semibold",css:Object(c.c)(mn||(mn=r()(["\n          margin: ",";\n        "])),i.spacing(48,0,32,0))},j()("Messages")),Object(c.d)(hn,{maxNumberOfMessages:t.maxNumberOfMessages,getMoreMessages:function(){var e=t.maxNumberOfMessages;a({maxNumberOfMessages:e+On})}}))}},"pUK/":function(module,exports,e){e("h+p0")},tQV5:function(module,exports,e){},zMc8:function(module,e,n){"use strict";var t=n("UYTu");n.d(e,"a",(function(){return t.a}))}}]);